<app-navbar></app-navbar>
<h2>Your Itenaries</h2>
<div *ngFor="let item of itenaries">
    <mat-card>
        <mat-card-header>
            <mat-card-title>{{ item._id }}</mat-card-title>
            <mat-card-subtitle>{{ item.formattedDate }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <p>Places Count: {{ item.placesCount }}</p>
        </mat-card-content>
        <mat-card-actions>
            <button mat-button color="primary" (click)="showItenaryPlaces(item._id)">Show Places</button>
            <button mat-icon-button (click)="cancelTrip(item._id)" color="warn" aria-label="Example icon button with a heart icon"><mat-icon>delete</mat-icon></button>
            <button mat-button color="primary" *ngIf="item.guide && !item.guide.paymentCompleted || !item.guide" (click)="hireGuide(item._id)">Hire Guide</button>
            <button mat-button color="primary" *ngIf="item.guide && item.guide.paymentCompleted" (click)="chat(item._id)">Chat with Guide</button>
            <button mat-button color="primary" *ngIf="item.guide && isPastDate(item.formattedDate)" mat-button>Rate Guide</button>
        </mat-card-actions>
    </mat-card>
</div>